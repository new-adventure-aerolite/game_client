package client

import (
	"encoding/base64"
	"time"

	"github.com/nsf/termbox-go"
)

var (
	rawShape = []string{
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAgKCctJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg4KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYWRvdWtlbiAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYWRvdWtlbiAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+IE8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYWRvdWtlbiAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+IG9PICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYWRvdWtlbiAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+IG9vTyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYWRvdWtlbiAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+IG9vb08gICAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgb29vTyAgICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgICBvb29PICAgICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgICAgIG9vb08gICAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgICAgICAgb29vTyAgICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJyk+ICAgICAgICAgICBvb29PICAgICAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYUhhICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgb29vTyAgICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYUhhICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICBvb29PICAgICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYUhhICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgIG9vb08gICAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYUhhICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgb29vTyAgICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICBIYUhhICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgICBvb29PICAgICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgICAgIG9vb08gICAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgb29vTyAvXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvb28vXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyg5KDkpX18gICAgICAgIF9fL15cL15cX18NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL28gbyAgIFwvXyAgICAgX19cX1xfL1xfL18vXw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX19fLCAgIFwvXyAgIF9cLicgICAgICAgJy4vXyAgICAgIF8vXF8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtLS1gXCAgXC9fIF9cLyAgICAgICAgICAgXC9fICAgX3wuJ18vDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBcL19cLyAgICAgIC8gICAgICBcL18gIHwvIC8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcICBgLScgICAgICB8ICAgICAgICAnO186JyAvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3wgICAgICAgICAgXCAgICAgIFwgICAgIC4nDQogICAgICAgICAgICAgICAgICAoPictJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8vXy8gICB8LF9fXy4tYCcsICAgIC9gJy0tLWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXy9gICAgICAgIC9fX19fLw==",
	}

	kirbyShape = Shape{
		"default": []string{}}
)

func init() {
	for _, r := range rawShape {
		d, _ := base64.StdEncoding.DecodeString(r)
		kirbyShape["default"] = append(kirbyShape["default"], string(d))
	}
}

func Hadouken() {
	term := New()
	term.FramesPerSecond = 20
	kirby := term.NewEntity(Position{X: 20, Y: 20, Z: 0})
	kirby.Shape = kirbyShape
	termbox.SetInputMode(termbox.InputEsc)

	quit := make(chan bool)
	go func(quit chan bool) {
		ev := termbox.PollEvent()
		switch ev.Type {
		case termbox.EventKey:
			if ev.Key == termbox.KeyEsc {
				close(quit)
			}
		}
	}(quit)

	go func() {
		defer term.Close()
		select {
		case <-quit:
			return
		case <-time.After(time.Duration(5 * time.Second)):
			return
		}
	}()

	term.Animate()
}
